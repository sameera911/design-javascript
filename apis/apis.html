<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

</head>
<body>
    <h1>Welcome</h1>
    <br><br>
   
    <table>
        

        <tr> <td>User Id</td> <td> <input type="text" id="uid"> </td></tr>
        <tr><td>id</td> <td><input type="text" id="id"> </td></td></tr>
        <tr>  <td>title</td> <td><input type="text" id="title"> </td></td></tr>
        <tr><td>body</td> <td><input type="text" id="body"> </td></td></tr>
        </tr>
        
    </table>
    <button onclick="createPost()">Create Post</button>
    <br><br>
    <table class="table">
        <thead>
            <tr>
               <th scope="col">UserId</th>
               <th scope="col">Id</th>
               <th scope="col">Title</th>
               <th scope="col">Body</th>
            </tr>
        </thead>
        <tbody id="data">
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </tbody>
    </table>
    <button onclick="getPosts()">fetch all</button>

</body>
<script>

//     var request=new XMLHttpRequest();
//     request.open("get","https://jsonplaceholder.typicode.com/posts");
//     //have to pass 2 args, 1st method 2nd url
//     request.send();
//     // data=request.responseText;
//     // console.log(data);
//    // alert("task complete");
//     request.onreadystatechange=()=>
//     {
//         if(request.readyState==4)
//         {
//             if((request.status>=200)&(request.status<300))
//             {
                
//                 var result=JSON.parse(request.responseText);
//                 console.log(typeof(result));
//                 console.log(result[0].title);//result[0] is first obj of response


//             }
//             else
//             alert("failed");
//         }
//     }

function createPost()
{
    var req=new XMLHttpRequest();
    req.open("post","https://jsonplaceholder.typicode.com/posts");
    var uid=document.querySelector("#uid").value;
    var id=document.querySelector("#id").value;
    var title=document.querySelector("#title").value;
    var body=document.querySelector("#body").value;
    var data={uid:uid,id:id,title:title,body:body};
    req.send(data);
}

    var req=new XMLHttpRequest();
    req.open("get","https://jsonplaceholder.typicode.com/posts/1");
    function getPosts()
    {
        req.send();
        req.onreadystatechange=()=>
        {
            if(req.readyState==4)
            {
                if((req.status>=200)&(req.status<300))
                {
                    var res=JSON.parse(req.responseText);
                    //console.log(res.id);
                    var html_data="";
                    html_data+="<tr><td>"+res.userId+"</td> <td>"+res.id+"</td> <td>"+res.title+"</td> <td>"+res.body+"</td></tr>"
                    document.querySelector("#data").innerHTML=html_data;
                }
                else{
                    alert("failed");
                }
            }
        }
    }
</script>
</html>